RewriteEngine On

# Skip .php files (they exist)
RewriteCond %{REQUEST_URI} \.php$ [NC]
RewriteRule ^ - [L]

# Skip docs folder (static HTML files)
RewriteCond %{REQUEST_URI} ^/docs/ [NC]
RewriteRule ^ - [L]

# Skip existing files and directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Route /api/* to api.php (with authentication)
RewriteRule ^api/(.*)$ api.php [QSA,L]

# Everything else to index.php
RewriteRule ^ index.php [QSA,L]
